<!DOCTYPE html>
<html>
  <head>
    <title>Home</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    
    <div class="main">
      <!-- <div class="menu-toggle">
        <div class="menu"><i class="ri-menu-fold-4-fill"></i></div>
        <div class="nav-list">
          <a href=""><li>Home</li></a>
          <a href=""><li>Logout</li></a>
        </div>
      </div> -->

      <div class="logout">
        <a href="/logout"><button>Logout</button></a>
      </div>
      <div class="nav-bar">
        <div class="user">
           <!-- Logo -->
          <div class="profile-info">
            <div class="uname">VIEW INFORMATION</div>
            <div class="user-others">Issues in ward <%= wardNumber %></div>
           <a href="/read-issue/<%=user.ward%>"><div class="backBtn"><i class="ri-arrow-right-line"></i></div></a>
          </div>
        </div>
        <div class="menu" style="display: none;"><i class="ri-menu-unfold-4-line"></i></div>
      </div>
        <div class="information">
          <h1 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Location: </span><%= item.location %> </h1>
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Landmark: </span><%= item.landmark %></h2>
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Issue-Type: </span><%= item.issueType %></h2>
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Description: </span><%= item.description %></h2>
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Priority: </span><%= item.priority %></h2>
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Worker: </span><%= item.workerName %></h2>
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Worker-Mob: </span><%= item.workerMobile %></h2>
          
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Issue Date </span><%= (new Date(item.createdAt)).toLocaleString('en-US', {day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit'}).replace(',', ' |')%></h2>
          <h2 translate="no" style=" padding: 10px; font-size: 4vw !important; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 400; color: maroon;" translate="yes">Resolved Date </span><%=(new Date(item.updatedAt)).toLocaleString('en-US', {day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit'}).replace(',', ' |') %></h2>

        </div>
       
        <!-- <div id="container">
          <button type="button" class="updateButton" id="addBtn">Add Members</button>
          <form action="/add-members/mandir/<%= item._id %>" method="post">
            <div id="add-members">
             
            </div>
            <input class="submitButton" type="submit">
          </form>
        </div> -->

       <div class="wrapper">
        <a href="/resolve/<%=item._id%>/<%=user.ward%>"><button class="updateButton">RESOLVE</button></a>
        <a href="/delete-issue/<%=item._id%>/<%=user.ward%>"><button class="cancelButton">DELETE</button></a>
      </div>

        </div>
      </div>
    </div>

</body> 
<script>
  document.getElementById('addBtn').addEventListener('click', addUser);

function addUser() {
  // Check if the maximum limit of users (10) has been reached
  if (document.querySelectorAll('.user-input').length >= 10) {
    alert('You have reached the maximum limit of users (10)');
    return;
  }
  
  const container = document.getElementById('add-members');
  
  // Create user input fields
  const userInput = document.createElement('div');
  userInput.className = 'user-input';
  userInput.innerHTML = `
    <input class="addUser" type="text" name="memberName" placeholder="Member Name">
    <input class="addUser" type="tel" name="mobileNumber" placeholder="Mobile Number">
    <button class="removeBtn">Remove</button>
  `;
  
  // Add event listener to remove button
  userInput.querySelector('.removeBtn').addEventListener('click', () => {
    container.removeChild(userInput);
  });
  
  container.appendChild(userInput);
}
</script>
  <!--google trnslator api-->
  <%- include('Partials/nabBottom') %>
